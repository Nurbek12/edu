import{a as f}from"./index-7376b9a9.js";import{r as o,a as n,o as S,c as B,w as e,b as t,d as s,t as r,f as N}from"./index-a79041d6.js";const U=s("div",{class:"d-flex justify-center"},"Davomat",-1),F=s("div",{class:"w-100 d-flex justify-center"},"NB-lar Ro'yxati",-1),H={class:"responsive-datatable mt-2"},O={"data-label":"O'qituvchi"},A={"data-label":"Fan"},C={"data-label":"Sanasi"},D={"data-label":"Vaqti"},G={"data-label":"Holati"},R={__name:"AttendanceList",setup(L){const m=o(null),_=o(null),u=o(null),b=o([]),h=o([]),y=o([]);o([]);const V=[{title:"O'qituvchi",sortable:!1,key:"teacher"},{title:"Fan nomi",sortable:!1,key:"subject"},{title:"Sanasi",sortable:!1,key:"date"},{title:"Vaqti",sortable:!1,key:"time"},{title:"Holati",sortable:!1,key:"status"}],g=async()=>{const d=await Promise.all([f.get("/group"),f.get("/subject")]);h.value=d[0].data,y.value=d[1].data},x=async()=>{if(!u.value)return;const{data:d}=await f.get(`/attendence/user/${u.value}`);b.value=d};return g(),(d,i)=>{const v=n("v-sheet"),c=n("v-col"),p=n("v-select"),w=n("v-row"),j=n("v-chip"),k=n("v-data-table"),q=n("v-container");return S(),B(q,{fluid:""},{default:e(()=>[t(w,null,{default:e(()=>[t(c,{cols:"12"},{default:e(()=>[t(v,{elevation:"1",color:"surface",width:"100%",class:"pa-2",rounded:""},{default:e(()=>[U]),_:1})]),_:1}),t(c,{cols:"12",md:"4"},{default:e(()=>[t(v,{elevation:"1",color:"surface",width:"100%",class:"pa-2",rounded:""},{default:e(()=>[t(w,null,{default:e(()=>[t(c,{cols:"12"},{default:e(()=>[t(p,{modelValue:u.value,"onUpdate:modelValue":[i[0]||(i[0]=l=>u.value=l),x],label:"Guruh","hide-details":"",density:"comfortable",items:h.value,color:"primary","item-title":"name","item-value":"_id",variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(c,{cols:"12",class:"pt-0"},{default:e(()=>[t(p,{modelValue:_.value,"onUpdate:modelValue":i[1]||(i[1]=l=>_.value=l),label:"O'quvchi","hide-details":"",density:"comfortable",items:b.value,color:"primary","item-title":"name","return-object":"",variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(c,{cols:"12",class:"pt-0"},{default:e(()=>[t(p,{modelValue:m.value,"onUpdate:modelValue":i[2]||(i[2]=l=>m.value=l),label:"Fan",density:"comfortable","hide-details":"",clearable:"",items:y.value,color:"primary","clear-icon":"mdi-close","item-title":"name","item-value":"name",variant:"outlined"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"8"},{default:e(()=>[t(v,{elevation:"1",color:"surface",width:"100%",class:"pa-2",rounded:""},{default:e(()=>{var l;return[F,s("div",H,[t(k,{"no-data-text":"Hech narsa topilmadi",density:"compact","items-per-page-text":"","items-per-page":"-1",headers:V,search:m.value,items:((l=_.value)==null?void 0:l.attendences)||[]},{"item.teacher":e(({item:a})=>[s("td",O,r(a.raw.teacher),1)]),"item.subject":e(({item:a})=>[s("td",A,r(a.raw.subject),1)]),"item.date":e(({item:a})=>[s("td",C,r(a.raw.date),1)]),"item.time":e(({item:a})=>[s("td",D,r(a.raw.time),1)]),"item.status":e(({item:a})=>[s("td",G,[t(j,{color:a.raw.status?"blue":"red",label:"",variant:"elevated"},{default:e(()=>[N(r(a.raw.status?"Sababli":"Sababsiz"),1)]),_:2},1032,["color"])])]),bottom:e(()=>[]),_:1},8,["search","items"])])]}),_:1})]),_:1})]),_:1})]),_:1})}}};export{R as default};
