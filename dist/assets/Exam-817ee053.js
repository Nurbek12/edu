import{g as q,r as j,a as n,o as r,c as d,w as t,h as y,b as a,i as C,j as z,F as D,d as A,f as s,t as l,k as E}from"./index-439559a6.js";const G=A("div",{class:"d-flex justify-center"},"TESTLAR",-1),P={__name:"Exam",setup(M){const x=q(),S={created:"Boshlash",start:"Davom Ettirish",finish:"Natijani Ko'rish"},B=j([]),T=j([]),V=async()=>{const i=await Promise.all([y.get("/exam/my"),y.get("/midterm/my")]);B.value=i[0].data,T.value=i[1].data},I=async({count:i,result:u,test:m})=>{u.status==="created"&&await y.post(`/test/start/${m._id}`,{count:i,result:u._id}),x.push(`/test/${u._id}`)},L=async(i,u,m)=>{const{data:c}=await y.post(`/midterm/start/${i}`,{count:u,subject:m});x.push(`/midterm/${c._id}`)},f=i=>new Date(parseInt(i)).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"}).replace(/[/,-]/g,":").replace(/\b\d\b/g,"0$&");return V(),(i,u)=>{const m=n("v-sheet"),c=n("v-col"),p=n("v-card-title"),o=n("v-card-text"),b=n("v-spacer"),h=n("v-btn"),F=n("v-card-actions"),v=n("v-card"),g=n("v-row"),N=n("v-timeline-item"),K=n("v-timeline"),R=n("v-container");return r(),d(R,{fluid:""},{default:t(()=>[a(g,null,{default:t(()=>[a(c,{cols:"12"},{default:t(()=>[a(m,{elevation:"1",color:"surface",width:"100%",class:"pa-2",rounded:""},{default:t(()=>[G]),_:1})]),_:1}),a(c,{cols:"12"},{default:t(()=>[a(K,{density:"compact"},{default:t(()=>[(r(!0),C(D,null,z(B.value,(e,w)=>(r(),d(N,{key:w,size:"small","dot-color":"primary",width:"100%"},{default:t(()=>[a(g,{align:"center"},{default:t(()=>{var k,$;return[a(c,{cols:"12",sm:((k=e.result)==null?void 0:k.status)==="finish"?7:12},{default:t(()=>[a(v,{width:"100%",elevation:"2",rounded:"",class:"pt-4"},{default:t(()=>[a(p,{class:"py-1"},{default:t(()=>[s("Imtihon testi")]),_:1}),a(o,{class:"py-1"},{default:t(()=>{var _;return[s("Test bazasi: "+l((_=e.test)==null?void 0:_.name),1)]}),_:2},1024),a(o,{class:"py-1"},{default:t(()=>[s("Test sanasi: "+l(e.date),1)]),_:2},1024),a(o,{class:"py-1"},{default:t(()=>[s("Savollar soni: "+l(e.count),1)]),_:2},1024),a(o,{class:"py-1"},{default:t(()=>[s("Berilgan muhlati: "+l(e.time)+" min",1)]),_:2},1024),a(F,{class:"mt-3"},{default:t(()=>[a(b),a(h,{variant:"flat",color:"primary",disabled:!e.result,onClick:_=>I(e)},{default:t(()=>{var _;return[s(l(S[(_=e.result)==null?void 0:_.status]||"Boshlash"),1)]}),_:2},1032,["disabled","onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["sm"]),(($=e.result)==null?void 0:$.status)==="finish"?(r(),d(c,{key:0,cols:"12",sm:"5"},{default:t(()=>[a(v,{color:"surface",width:"100%"},{default:t(()=>[a(p,null,{default:t(()=>[s("Natijalar")]),_:1}),a(o,{class:"py-1"},{default:t(()=>[s("Boshlandi: "+l(f(e.result.start_time)),1)]),_:2},1024),a(o,{class:"py-1"},{default:t(()=>[s("Tugadi: "+l(f(e.result.end_time)),1)]),_:2},1024),a(o,{class:"py-1"},{default:t(()=>[s("To'gri: "+l(e.result.rate)+" / "+l(e.count),1)]),_:2},1024),a(o,{class:"pt-1"},{default:t(()=>[s("Foiz: "+l(parseFloat(e.result.rate*100/e.count).toFixed(1))+" %",1)]),_:2},1024)]),_:2},1024)]),_:2},1024)):E("",!0)]}),_:2},1024)]),_:2},1024))),128)),(r(!0),C(D,null,z(T.value,(e,w)=>(r(),d(N,{key:w,size:"small","dot-color":"primary",width:"100%"},{default:t(()=>[a(g,{align:"center"},{default:t(()=>[a(c,{cols:"12",sm:e.result?7:12},{default:t(()=>[a(v,{width:"100%",elevation:"2",rounded:"",class:"pt-4"},{default:t(()=>[a(p,{class:"py-1"},{default:t(()=>[s("Oraliq testi")]),_:1}),a(o,{class:"py-1"},{default:t(()=>[s("Test nomi: "+l(e.name),1)]),_:2},1024),a(o,{class:"py-1"},{default:t(()=>[s("Testlar soni: "+l(e.count),1)]),_:2},1024),a(o,{class:"py-1"},{default:t(()=>[s("Test sanasi: "+l(e.date),1)]),_:2},1024),a(o,{class:"py-1"},{default:t(()=>[s("Berilgan muhlati: "+l(e.time)+" min",1)]),_:2},1024),a(F,{class:"mt-3"},{default:t(()=>[a(b),e.result?(r(),d(h,{key:0,color:"primary",variant:"flat",to:`/midterm/${e.result._id}`},{default:t(()=>[s("Natijani Ko'rish")]),_:2},1032,["to"])):(r(),d(h,{key:1,color:"primary",variant:"flat",onClick:k=>L(e._id,e.count,e.subject)},{default:t(()=>[s("Boshlash")]),_:2},1032,["onClick"]))]),_:2},1024)]),_:2},1024)]),_:2},1032,["sm"]),e.result?(r(),d(c,{key:0,cols:"12",sm:"5"},{default:t(()=>[a(v,{color:"surface",width:"100%"},{default:t(()=>[a(p,null,{default:t(()=>[s("Natijalar")]),_:1}),a(o,{class:"py-1"},{default:t(()=>[s("Boshlandi: "+l(f(e.result.start_time)),1)]),_:2},1024),a(o,{class:"py-1"},{default:t(()=>[s("Tugadi: "+l(f(e.result.end_time)),1)]),_:2},1024),a(o,{class:"py-1"},{default:t(()=>[s("To'gri: "+l(e.result.rate)+" / "+l(e.count),1)]),_:2},1024),a(o,{class:"pt-1"},{default:t(()=>[s("Foiz: "+l(parseFloat(e.result.rate*100/e.count).toFixed(1))+" %",1)]),_:2},1024)]),_:2},1024)]),_:2},1024)):E("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}};export{P as default};
