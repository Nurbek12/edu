import{a as k}from"./index-7376b9a9.js";import{u as C,r as v,a as t,o as j,c as q,w as a,b as e,f as B,d as N}from"./index-6f11c559.js";const S=N("div",{class:"d-flex justify-center"},"Shaxsiy Ma'lumotlar",-1),$={__name:"Profile",setup(T){const p=C(),l=v({}),i=v(!1),r=[s=>!!s||"Required"],_=v(null);Object.assign(l.value,p.getters.user);const f=async()=>{const{_id:s,...o}=l.value,{data:c}=await k.put(`/user/${s}`,o);c?p.commit("setUser",c):l.value.login=""},y=async()=>{const{valid:s}=await _.value.validate();s&&f()};return(s,o)=>{const c=t("v-sheet"),d=t("v-col"),m=t("v-row"),u=t("v-text-field"),V=t("v-card-text"),b=t("v-spacer"),x=t("v-btn"),w=t("v-card-actions"),g=t("v-form"),h=t("v-card"),U=t("v-container");return j(),q(U,{fluid:""},{default:a(()=>[e(m,null,{default:a(()=>[e(d,{cols:"12"},{default:a(()=>[e(c,{elevation:"1",color:"surface",width:"100%",class:"py-2",rounded:""},{default:a(()=>[S]),_:1})]),_:1})]),_:1}),e(m,{justify:"center",align:"center"},{default:a(()=>[e(h,{"max-width":"450px",width:"100%",color:"surface"},{default:a(()=>[e(g,{ref_key:"form",ref:_},{default:a(()=>[e(V,{class:"mt-2"},{default:a(()=>[e(m,null,{default:a(()=>[e(d,{cols:"12"},{default:a(()=>[e(u,{disabled:l.value.role==="student",modelValue:l.value.name,"onUpdate:modelValue":o[0]||(o[0]=n=>l.value.name=n),label:"Ism Familiya",color:"primary","hide-details":"",rules:r,variant:"outlined"},null,8,["disabled","modelValue"])]),_:1}),e(d,{cols:"12"},{default:a(()=>[e(u,{disabled:l.value.role==="student",modelValue:l.value.birthdate,"onUpdate:modelValue":o[1]||(o[1]=n=>l.value.birthdate=n),label:"Tug'ilgan sanasi",color:"primary",rules:r,"hide-details":"",type:"date",variant:"outlined"},null,8,["disabled","modelValue"])]),_:1}),e(d,{cols:"12"},{default:a(()=>[e(u,{disabled:l.value.role==="student",modelValue:l.value.login,"onUpdate:modelValue":o[2]||(o[2]=n=>l.value.login=n),label:"Login",color:"primary","hide-details":"",rules:r,variant:"outlined"},null,8,["disabled","modelValue"])]),_:1}),e(d,{cols:"12"},{default:a(()=>[e(u,{modelValue:l.value.password,"onUpdate:modelValue":o[3]||(o[3]=n=>l.value.password=n),label:"Parol",color:"primary","hide-details":"",autocomplete:"off",rules:r,variant:"outlined","append-inner-icon":i.value?"mdi-eye":"mdi-eye-off",type:i.value?"text":"password","onClick:appendInner":o[4]||(o[4]=n=>i.value=!i.value)},null,8,["modelValue","append-inner-icon","type"])]),_:1}),e(d,{cols:"12"},{default:a(()=>[e(u,{modelValue:l.value.phone,"onUpdate:modelValue":o[5]||(o[5]=n=>l.value.phone=n),label:"Telefon raqami",color:"primary","hide-details":"",rules:r,variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(w,{class:"px-4"},{default:a(()=>[e(b),e(x,{color:"primary",onClick:y},{default:a(()=>[B("Saqlash")]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})}}};export{$ as default};
