import{u as T,r as i,a as n,o as F,i as x,b as o,w as e,F as q,h as B,d as a,t as s,f as N}from"./index-439559a6.js";import{_ as $}from"./FooterPage-0a1b0f32.js";const z=a("div",{class:"d-flex justify-center"},"NATIJALAR",-1),D={class:"responsive-datatable"},j={"data-label":"T/r"},A={"data-label":"Fan nomi"},S={"data-label":"Talaba"},V={"data-label":"Boshlangan vaqti"},C={"data-label":"Tugatilgan vaqti"},G={"data-label":"To'g'ri javoblar"},I={"data-label":"Foiz"},K={"data-label":"Ko'rish"},L=a("div",null,"Hech narsa topilmadi",-1),J={__name:"Raiting",setup(R){const h=T(),p=[{title:"T/r",align:"start",key:"no",sortable:!1},{title:"Fan Nomi",key:"test"},{title:"Talaba",key:"student"},{title:"Boshlangan vaqti",key:"start"},{title:"Tugatilgan vaqti",key:"end"},{title:"To'g'ri javoblar",key:"rate"},{title:"Foiz",key:"percent"},{title:"Ko'rish",key:"view"}],f=i(""),d=i([]);i(!1),i(!1),i(-1),i(-1);const c=r=>new Date(parseInt(r)).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"}).replace(/[/,-]/g,":").replace(/\b\d\b/g,"0$&"),_=async r=>{const{data:u}=await B.get(`/test/result?user=${h.getters.userid}&${r}`);d.value=u};return _(""),(r,u)=>{const m=n("v-sheet"),v=n("v-col"),g=n("v-icon"),b=n("v-btn"),w=n("v-data-table"),y=n("v-row"),k=n("v-container");return F(),x(q,null,[o(k,{fluid:""},{default:e(()=>[o(y,null,{default:e(()=>[o(v,{cols:"12"},{default:e(()=>[o(m,{elevation:"1",color:"surface",width:"100%",class:"pa-2",rounded:""},{default:e(()=>[z]),_:1})]),_:1}),o(v,{cols:"12"},{default:e(()=>[o(m,{elevation:"1",color:"surface",width:"100%",class:"pa-2",rounded:""},{default:e(()=>[a("div",D,[o(w,{"items-per-page-text":"",headers:p,search:f.value,items:d.value},{"item.no":e(({index:t})=>[a("td",j,s(t+1)+".",1)]),"item.test":e(({item:t})=>{var l;return[a("td",A,s((l=t.raw.test)==null?void 0:l.name),1)]}),"item.student":e(({item:t})=>{var l;return[a("td",S,s((l=t.raw.student)==null?void 0:l.name),1)]}),"item.start":e(({item:t})=>[a("td",V,s(c(t.raw.start_time)),1)]),"item.end":e(({item:t})=>[a("td",C,s(c(t.raw.end_time)),1)]),"item.rate":e(({item:t})=>[a("td",G,s(t.raw.rate)+"/"+s(t.raw.questions),1)]),"item.percent":e(({item:t})=>[a("td",I,s(parseFloat(t.raw.rate*100/t.raw.questions).toFixed(1))+" %",1)]),"item.view":e(({item:t})=>[a("td",K,[o(b,{size:"30",color:"primary",variant:"flat",to:`/test/${t.raw._id}`},{default:e(()=>[o(g,null,{default:e(()=>[N("mdi-eye-arrow-right")]),_:1})]),_:2},1032,["to"])])]),"no-data":e(()=>[L]),_:1},8,["search","items"])])]),_:1})]),_:1})]),_:1})]),_:1}),o($,{onGetDate:_})],64)}}};export{J as default};
