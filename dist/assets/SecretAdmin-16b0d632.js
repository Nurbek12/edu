import{a as f}from"./index-7376b9a9.js";import{u as T,r as w,a as i,o as B,c as V,w as e,b as a,d as o,t as l,f as b}from"./index-a79041d6.js";const $={class:"responsive-datatable"},F={"data-label":"T/r"},N={"data-label":"Test nomi"},I={"data-label":"Talaba"},O={"data-label":"Guruhi"},S={"data-label":"Bahosi"},j={"data-label":"Foizi"},q={"data-label":"Ochirish"},G={"data-label":"Ko'rish"},K={"data-label":"Boshqarish"},A={class:"d-flex justify-end"},D=o("div",null,"Hech narsa topilmadi",-1),E={__name:"SecretAdmin",setup(H){T();const y=[{title:"T/r",align:"start",key:"no",sortable:!1},{title:"Test Nomi",key:"test.name"},{title:"Talaba",key:"student.name"},{title:"Guruhi",key:"group"},{title:"Bahosi",key:"rate"},{title:"Foizi",key:"percent"},{title:"Ko'rish",key:"view"},{title:"O'chirish",key:"remove"}],m=w(""),d=w([]),k=async()=>{const{data:n}=await f.get("/test/result/");d.value=n};async function g(n){if(confirm("O'chirishga rozimisiz")){const{data:c}=await f.delete(`/test/result/${n}`);if(c){const u=d.value.findIndex(r=>r._id===n);d.value.splice(u,1)}}}return k(),(n,c)=>{const u=i("v-text-field"),r=i("v-col"),v=i("v-row"),p=i("v-sheet"),h=i("v-icon"),_=i("v-btn"),x=i("v-spacer"),z=i("v-data-table"),C=i("v-container");return B(),V(C,{fluid:""},{default:e(()=>[a(v,null,{default:e(()=>[a(r,{cols:"12"},{default:e(()=>[a(p,{elevation:"1",color:"surface",width:"100%",class:"pa-2",rounded:""},{default:e(()=>[a(v,{justify:"space-between",align:"center"},{default:e(()=>[a(r,{cols:"12",sm:"4"},{default:e(()=>[a(u,{label:"Qidirish",modelValue:m.value,"onUpdate:modelValue":c[0]||(c[0]=t=>m.value=t),variant:"outlined",color:"primary",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),a(r,{cols:"12"},{default:e(()=>[a(p,{elevation:"1",color:"surface",width:"100%",class:"pa-2",rounded:""},{default:e(()=>[o("div",$,[a(z,{headers:y,search:m.value,items:d.value},{"item.no":e(({index:t})=>[o("td",F,l(t+1)+".",1)]),"item.test.name":e(({item:t})=>[o("td",N,l(t.raw.test.name),1)]),"item.student.name":e(({item:t})=>{var s;return[o("td",I,l((s=t.raw.student)==null?void 0:s.name),1)]}),"item.group":e(({item:t})=>{var s;return[o("td",O,l((s=t.raw.group)==null?void 0:s.name),1)]}),"item.rate":e(({item:t})=>[o("td",S,l(t.raw.rate),1)]),"item.percent":e(({item:t})=>[o("td",j,l(parseFloat(t.raw.rate*100/t.raw.questions).toFixed(1))+" % ",1)]),"item.remove":e(({item:t})=>[o("td",q,[a(_,{color:"primary",size:"30",variant:"flat",onClick:s=>g(t.raw._id)},{default:e(()=>[a(h,null,{default:e(()=>[b("mdi-delete")]),_:1})]),_:2},1032,["onClick"])])]),"item.view":e(({item:t})=>[o("td",G,[a(_,{color:"primary",size:"30",to:`/secrettest/${t.raw._id}`},{default:e(()=>[a(h,null,{default:e(()=>[b("mdi-eye-arrow-right")]),_:1})]),_:2},1032,["to"])])]),"item.actions":e(({item:t})=>[o("td",K,[a(x),o("div",A,[a(_,{icon:"mdi-pencil",variant:"text",size:"40",color:"primary",onClick:s=>n.editItem(t.raw)},null,8,["onClick"]),a(_,{icon:"mdi-delete",variant:"text",size:"40",color:"primary",onClick:s=>n.deleteItem(t.raw)},null,8,["onClick"])])])]),"no-data":e(()=>[D]),_:1},8,["search","items"])])]),_:1})]),_:1})]),_:1})]),_:1})}}};export{E as default};
