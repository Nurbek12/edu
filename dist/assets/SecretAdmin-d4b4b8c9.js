import{u as T,r as f,a as s,o as B,c as V,w as t,h as w,b as a,d as o,t as l,f as b}from"./index-eee0caed.js";const $={class:"responsive-datatable"},F={"data-label":"T/r"},N={"data-label":"Test nomi"},q={"data-label":"Talaba"},I={"data-label":"Guruhi"},O={"data-label":"Bahosi"},S={"data-label":"Foizi"},j={"data-label":"Ochirish"},G={"data-label":"Ko'rish"},K={"data-label":"Boshqarish"},A={class:"d-flex justify-end"},D=o("div",null,"Hech narsa topilmadi",-1),U={__name:"SecretAdmin",setup(H){T();const y=[{title:"T/r",align:"start",key:"no",sortable:!1},{title:"Test Nomi",key:"test.name"},{title:"Talaba",key:"student.name"},{title:"Guruhi",key:"group"},{title:"Bahosi",key:"rate"},{title:"Foizi",key:"percent"},{title:"Ko'rish",key:"view"},{title:"O'chirish",key:"remove"}],u=f(""),c=f([]),k=async()=>{const{data:i}=await w.get("/test/result/");c.value=i,console.log(i)};async function g(i){if(confirm("O'chirishga rozimisiz")){const{data:d}=await w.delete(`/test/result/${i}`);if(d){const m=c.value.findIndex(r=>r._id===i);c.value.splice(m,1)}}}return k(),(i,d)=>{const m=s("v-text-field"),r=s("v-col"),v=s("v-row"),h=s("v-sheet"),p=s("v-icon"),_=s("v-btn"),x=s("v-spacer"),z=s("v-data-table"),C=s("v-container");return B(),V(C,{fluid:""},{default:t(()=>[a(v,null,{default:t(()=>[a(r,{cols:"12"},{default:t(()=>[a(h,{elevation:"1",color:"surface",width:"100%",class:"pa-2",rounded:""},{default:t(()=>[a(v,{justify:"space-between",align:"center"},{default:t(()=>[a(r,{cols:"12",sm:"4"},{default:t(()=>[a(m,{label:"Qidirish",modelValue:u.value,"onUpdate:modelValue":d[0]||(d[0]=e=>u.value=e),variant:"outlined",color:"primary",density:"compact","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),a(r,{cols:"12"},{default:t(()=>[a(h,{elevation:"1",color:"surface",width:"100%",class:"pa-2",rounded:""},{default:t(()=>[o("div",$,[a(z,{headers:y,search:u.value,items:c.value},{"item.no":t(({index:e})=>[o("td",F,l(e+1)+".",1)]),"item.test.name":t(({item:e})=>[o("td",N,l(e.raw.test.name),1)]),"item.student.name":t(({item:e})=>{var n;return[o("td",q,l((n=e.raw.student)==null?void 0:n.name),1)]}),"item.group":t(({item:e})=>{var n;return[o("td",I,l((n=e.raw.group)==null?void 0:n.name),1)]}),"item.rate":t(({item:e})=>[o("td",O,l(e.raw.rate)+" / "+l(e.raw.questions),1)]),"item.percent":t(({item:e})=>[o("td",S,l(parseFloat(e.raw.rate*100/e.raw.questions).toFixed(1))+" % ",1)]),"item.remove":t(({item:e})=>[o("td",j,[a(_,{color:"primary",size:"30",variant:"flat",onClick:n=>g(e.raw._id)},{default:t(()=>[a(p,null,{default:t(()=>[b("mdi-delete")]),_:1})]),_:2},1032,["onClick"])])]),"item.view":t(({item:e})=>[o("td",G,[a(_,{color:"primary",size:"30",to:`/secrettest/${e.raw._id}`},{default:t(()=>[a(p,null,{default:t(()=>[b("mdi-eye-arrow-right")]),_:1})]),_:2},1032,["to"])])]),"item.actions":t(({item:e})=>[o("td",K,[a(x),o("div",A,[a(_,{icon:"mdi-pencil",variant:"text",size:"40",color:"primary",onClick:n=>i.editItem(e.raw)},null,8,["onClick"]),a(_,{icon:"mdi-delete",variant:"text",size:"40",color:"primary",onClick:n=>i.deleteItem(e.raw)},null,8,["onClick"])])])]),"no-data":t(()=>[D]),_:1},8,["search","items"])])]),_:1})]),_:1})]),_:1})]),_:1})}}};export{U as default};
